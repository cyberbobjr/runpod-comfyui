import{_ as Ee,r as d,c as j,a0 as se,S as Ge,o as Be,W as Re,b as i,e as n,h as f,f as t,t as m,C as b,j as O,n as U,i as y,w as q,D as T,g as Ue,X as K,z as x,A as k,$ as Le,a1 as le,Z as Se,M as C,N as Ve}from"./index-jy5-nOjD.js";import{A as J}from"./AccordionComponent-Eg9b-t0g.js";const $e={class:"space-y-6 p-4 bg-background"},Ne={key:0,class:"flex justify-center items-center min-h-[200px]"},Ie={key:1,class:"bg-red-900 text-white p-4 rounded-md border border-red-700 flex items-start"},He={key:0,class:"w-5 h-5 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Fe={key:1,class:"w-5 h-5 mr-2 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Oe={class:"flex justify-end space-x-4 mb-6"},qe=["disabled"],Ke={key:0,class:"flex items-center justify-center"},Je={key:1,class:"flex items-center"},Pe={class:"overflow-x-auto"},We={class:"min-w-full divide-y divide-border"},Ye={class:"bg-background-soft divide-y divide-border"},Qe={key:0,class:"h-1"},Xe=["onDragstart","onDrop","onDragenter"],Ze={class:"px-4 py-3 text-center"},et={class:"flex items-center justify-center text-text-light-muted"},tt={class:"px-4 py-3 text-text-light"},st={class:"px-4 py-3"},lt={class:"flex space-x-2"},ot=["onClick","disabled"],rt=["onClick","disabled"],at={key:1,class:"h-1"},nt={key:0,class:"space-y-4"},it={class:"overflow-x-auto"},ut={class:"min-w-full divide-y divide-border"},dt={class:"bg-background-soft divide-y divide-border"},pt={class:"px-4 py-3"},ct={class:"px-4 py-3 text-text-light"},mt={class:"px-4 py-3"},vt=["href","title"],gt={key:1,class:"text-text-light-muted"},ft={class:"px-4 py-3"},xt={class:"flex flex-wrap gap-1"},bt={class:"px-4 py-3 text-text-light"},yt={class:"px-4 py-3"},ht={class:"flex space-x-2"},kt=["onClick"],wt=["onClick"],Ct={key:1,class:"flex flex-col items-center justify-center py-12 text-text-light-muted"},Mt={key:3,class:"fixed inset-0 z-50 overflow-y-auto"},_t={class:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},Tt={class:"inline-block align-bottom bg-background-soft rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},At={class:"px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},jt={class:"text-lg font-medium leading-6 text-text-light mb-4"},Dt={class:"mb-4"},zt={class:"bg-background-mute px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},Et=["disabled"],Gt={key:0,class:"flex items-center justify-center"},Bt={key:1},Rt={key:4,class:"fixed inset-0 z-50 overflow-y-auto"},Ut={class:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},Lt={class:"inline-block align-bottom bg-background-soft rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},St={class:"px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},Vt={class:"text-lg font-medium leading-6 text-text-light mb-4"},$t=["value"],Nt={class:"flex space-x-4"},It={class:"flex items-center"},Ht={class:"flex items-center"},Ft={key:1},Ot={class:"relative"},qt={class:"relative"},Kt={key:0,class:"absolute z-10 w-full mt-1 bg-background-soft border border-border rounded-md shadow-lg max-h-48 overflow-y-auto type-dropdown"},Jt={key:0,class:"p-2"},Pt=["onClick"],Wt={key:1,class:"border-t border-border p-2"},Yt={key:2,class:"p-4 text-center text-text-light-muted text-sm"},Qt={class:"space-y-2"},Xt={key:0,class:"mb-2"},Zt={class:"flex flex-wrap gap-1"},es=["onClick","disabled"],ts={class:"flex flex-wrap gap-2 p-2 border border-border rounded"},ss={class:"text-text-light mr-2"},ls=["onClick"],os=["onKeydown"],rs={class:"bg-background-mute px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},as=["disabled"],ns={key:0,class:"flex items-center justify-center"},is={key:1},us={__name:"JsonEditorComponent",setup(ds){const{success:P,error:oe}=Ve(),L=d(!1),N=d(""),p=d(""),c=d("success"),D=d(""),h=d(!1),g=d(""),re=j(()=>g.value?$.value.filter(s=>s.toLowerCase().includes(g.value.toLowerCase())):$.value),W=d({config:{},groups:{}}),v=d(null),M=d(null),w=d(null),S=d(!1),z=d([]),ae=j(()=>Object.entries(W.value.groups||{}).map(([s,e])=>({name:s,models:Array.isArray(e)?e:[]}))),_=j(()=>{const s=ae.value;if(z.value.length===0)return s;const e=[],o=[...s];return z.value.forEach(l=>{const a=o.findIndex(u=>u.name===l);a!==-1&&(e.push(o[a]),o.splice(a,1))}),e.push(...o),e}),E=d(!1),V=d(!1),ne=j(()=>V.value?"Rename Group":"Add Group"),G=se({name:""});let Y="";const B=d(!1),A=d(!1),ie=j(()=>A.value?"Edit Model":"Add Model"),r=se({group:"",url:"",src:"",dest:"",git:"",type:"",tags:[],hash:"",size:null,comments:"",sourceType:"url"}),I=d(!1),H=d(!1),ue=s=>s.dest?s.dest.split("/").pop():s.git?s.git.split("/").pop():"Unnamed",de=s=>Array.isArray(s.tags)&&s.tags.some(e=>e.toLowerCase()==="nsfw"),Q=s=>s.tags?Array.isArray(s.tags)?s.tags:[s.tags]:[],X=j(()=>{const s=new Set;return _.value.forEach(e=>{e.models.forEach(o=>{Q(o).forEach(a=>s.add(a))})}),Array.from(s).sort()}),$=j(()=>{const s=new Set;return _.value.forEach(e=>{e.models.forEach(o=>{o.type&&o.type.trim()&&s.add(o.type.trim())})}),Array.from(s).sort()}),pe=()=>{D.value.trim()&&!r.tags.includes(D.value.trim())&&(r.tags.push(D.value.trim()),D.value="")},ce=s=>{r.tags.includes(s)||r.tags.push(s)},me=s=>{r.tags.splice(s,1)},ve=s=>{r.type=s,h.value=!1,g.value=""},ge=()=>{g.value.trim()&&(r.type=g.value.trim(),h.value=!1,g.value="")},fe=()=>{h.value=!0,g.value=""},xe=()=>{setTimeout(()=>{h.value=!1},200)},be=s=>{r.type=s.target.value,g.value=s.target.value,h.value=!0};Ge(()=>r.sourceType,s=>{s==="url"?(r.git="",r.dest||(r.dest="${BASE_DIR}/models/")):s==="git"&&(r.url="",r.src="",r.dest="")});const ye=(s,e)=>{v.value=s,S.value=!0;const o=e.target.cloneNode(!0);o.style.transform="rotate(3deg)",o.style.opacity="0.8",o.style.backgroundColor="rgba(59, 130, 246, 0.1)",o.style.border="2px dashed #3b82f6",o.style.borderRadius="8px",o.style.boxShadow="0 10px 25px rgba(0, 0, 0, 0.3)",o.style.transition="all 0.2s ease",o.style.position="absolute",o.style.top="-1000px",o.style.left="-1000px",document.body.appendChild(o),e.dataTransfer.setDragImage(o,50,25),setTimeout(()=>{document.body.contains(o)&&document.body.removeChild(o)},0),e.target.style.opacity="0.4",e.target.style.transform="scale(0.98)",e.target.style.transition="all 0.2s ease",e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/html","")},he=s=>{s.preventDefault(),s.dataTransfer.dropEffect="move"},ke=(s,e)=>{if(v.value===null||v.value===s)return;M.value=s;const o=e.target.closest("tr").getBoundingClientRect(),l=e.clientY,a=o.top+o.height/2;l<a?w.value="above":w.value="below"},we=s=>{const e=s.relatedTarget,o=s.target.closest("tr");(!e||!o.contains(e))&&setTimeout(()=>{o.matches(":hover")||(M.value=null,w.value=null)},50)},Ce=(s,e)=>{if(e.preventDefault(),v.value===null||v.value===s){F(e);return}let o=s;w.value==="below"&&(o=s+1),v.value<o&&(o-=1);const l=[..._.value.map(u=>u.name)],a=l[v.value];l.splice(v.value,1),l.splice(o,0,a),z.value=l,Me(),F(e)},F=s=>{s.target&&(s.target.style.opacity="1",s.target.style.transform="scale(1)",s.target.style.transition="all 0.2s ease"),v.value=null,M.value=null,w.value=null,S.value=!1},Me=async()=>{var s,e;try{await C.put("/jsonmodels/group-order",{order:z.value}),p.value="Group order updated",c.value="success"}catch(o){p.value=((e=(s=o==null?void 0:o.response)==null?void 0:s.data)==null?void 0:e.detail)||o.message||"Failed to save group order",c.value="error"}};async function R(){var s,e;L.value=!0,N.value="";try{const l=(await C.get("/jsonmodels/")).data||{};W.value=l;try{const a=await C.get("/jsonmodels/group-order");a.data&&Array.isArray(a.data.order)&&(z.value=a.data.order)}catch(a){console.warn("Could not fetch group order:",a.message),z.value=[]}}catch(o){N.value=((e=(s=o==null?void 0:o.response)==null?void 0:s.data)==null?void 0:e.detail)||o.message||"Loading error"}finally{L.value=!1}}function _e(){V.value=!1,G.name="",E.value=!0}function Te(s){V.value=!0,G.name=s,Y=s,E.value=!0}async function Z(){var s,e;I.value=!0;try{V.value?(await C.put("/jsonmodels/groups",{old_group:Y,new_group:G.name}),p.value="Group renamed"):(await C.post("/jsonmodels/groups",{group:G.name}),p.value="Group added"),c.value="success",E.value=!1,await R()}catch(o){p.value=((e=(s=o==null?void 0:o.response)==null?void 0:s.data)==null?void 0:e.detail)||o.message,c.value="error"}finally{I.value=!1}}async function Ae(s){var e,o;if(confirm(`Delete group "${s}"?`))try{await C.delete("/jsonmodels/groups",{data:{group:s}}),p.value="Group deleted",c.value="success",await R()}catch(l){p.value=((o=(e=l==null?void 0:l.response)==null?void 0:e.data)==null?void 0:o.detail)||l.message,c.value="error"}}function je(s=""){A.value=!1,Object.assign(r,{group:s,url:"",src:"",dest:"${BASE_DIR}/models/",git:"",type:"",tags:[],hash:"",size:null,comments:"",sourceType:"url"}),h.value=!1,g.value="",B.value=!0}function De(s){A.value=!0,s.url||s.src;const e=!!s.git;Object.assign(r,{group:ee(s),url:s.url||"",src:s.src||"",dest:s.dest||"",git:s.git||"",type:s.type||"",tags:Array.isArray(s.tags)?[...s.tags]:s.tags?[s.tags]:[],hash:s.hash||"",size:s.size||null,comments:s.comments||"",sourceType:e?"git":"url"}),h.value=!1,g.value="",B.value=!0}function ee(s){for(const e of _.value)if(e.models.some(o=>(o.dest||o.git)===(s.dest||s.git)))return e.name;return""}async function te(){var s,e;if(!r.group){p.value="Group is required",c.value="error";return}if(r.sourceType==="url"&&!r.dest){p.value="Destination is required for URL downloads",c.value="error";return}if(r.sourceType==="git"&&!r.git){p.value="Git repository URL is required",c.value="error";return}H.value=!0;try{const o={type:r.type,tags:r.tags,comments:r.comments};r.sourceType==="url"?(r.url&&(o.url=r.url),r.src&&(o.src=r.src),o.dest=r.dest):r.sourceType==="git"&&(o.git=r.git),A.value&&(r.hash&&(o.hash=r.hash),r.size&&(o.size=r.size)),A.value?(await C.put("/jsonmodels/entry",{group:r.group,entry:o}),p.value="Model modified",P("Model updated successfully",5e3,!0)):(await C.post("/jsonmodels/entry",{group:r.group,entry:o}),p.value="Model added",P("Model added successfully",5e3,!0)),c.value="success",B.value=!1,await R()}catch(o){const l=((e=(s=o==null?void 0:o.response)==null?void 0:s.data)==null?void 0:e.detail)||o.message;p.value=l,c.value="error",oe(`Model operation failed: ${l}`,8e3,!0)}finally{H.value=!1}}async function ze(s){var e,o;if(confirm("Delete this model?"))try{await C.delete("/jsonmodels/entry",{data:{group:ee(s),entry:{dest:s.dest,git:s.git}}}),p.value="Model deleted",c.value="success",await R()}catch(l){p.value=((o=(e=l==null?void 0:l.response)==null?void 0:e.data)==null?void 0:o.detail)||l.message,c.value="error"}}return Be(R),(s,e)=>{const o=Re("FontAwesomeIcon");return n(),i("div",$e,[L.value?(n(),i("div",Ne,e[21]||(e[21]=[t("div",{class:"flex flex-col items-center"},[t("div",{class:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"}),t("p",{class:"mt-2 text-text-light"},"Loading models.json file...")],-1)]))):N.value?(n(),i("div",Ie,[e[22]||(e[22]=t("svg",{class:"w-5 h-5 mr-2 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),t("span",null,m(N.value),1)])):(n(),i(b,{key:2},[p.value?(n(),i("div",{key:0,class:U([{"bg-green-900 text-white border-green-700":c.value==="success","bg-red-900 text-white border-red-700":c.value==="error"},"p-4 rounded-md border flex items-start"])},[c.value==="success"?(n(),i("svg",He,e[23]||(e[23]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)]))):(n(),i("svg",Fe,e[24]||(e[24]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)]))),t("span",null,m(p.value),1),t("button",{onClick:e[0]||(e[0]=l=>p.value=""),class:"ml-auto"},e[25]||(e[25]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))],2)):f("",!0),t("div",Oe,[t("button",{type:"button",class:"btn btn-xs btn-default",onClick:R,disabled:L.value},[L.value?(n(),i("span",Ke,e[26]||(e[26]=[t("svg",{class:"animate-spin -ml-1 mr-2 h-3 w-3 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),y(" Refreshing... ")]))):(n(),i("span",Je,e[27]||(e[27]=[t("svg",{class:"w-3 h-3 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),y(" Refresh ")])))],8,qe),t("button",{type:"button",class:"btn btn-xs btn-default",onClick:_e},e[28]||(e[28]=[t("span",{class:"flex items-center"},[t("svg",{class:"w-3 h-3 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})]),y(" Add Group ")],-1)])),t("button",{type:"button",class:"btn btn-xs btn-primary",onClick:e[1]||(e[1]=l=>je())},e[29]||(e[29]=[t("span",{class:"flex items-center"},[t("svg",{class:"w-3 h-3 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})]),y(" Add Model ")],-1)]))]),O(J,{title:"Model Groups",icon:"layer-group","default-open":!0,class:"mt-6",size:"m"},{default:q(()=>[t("div",Pe,[t("table",We,[e[33]||(e[33]=t("thead",{class:"bg-background-mute"},[t("tr",null,[t("th",{class:"px-4 py-3 text-left text-xs font-medium text-text-light uppercase tracking-wider"},[t("div",{class:"flex items-center"},[t("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"})]),y(" Order ")])]),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-text-light uppercase tracking-wider"}," Name "),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-text-light uppercase tracking-wider"}," Actions ")])],-1)),t("tbody",Ye,[(n(!0),i(b,null,T(_.value,(l,a)=>(n(),i(b,{key:l.name},[M.value===a&&w.value==="above"?(n(),i("tr",Qe,e[30]||(e[30]=[t("td",{colspan:"3",class:"p-0"},[t("div",{class:"h-1 bg-blue-500 rounded-full mx-4 shadow-lg animate-pulse"})],-1)]))):f("",!0),t("tr",{class:U(["hover:bg-background-mute cursor-move transition-all duration-200 ease-in-out relative",{"bg-blue-50 dark:bg-blue-900/20 shadow-lg scale-[0.98]":v.value===a,"bg-green-50 dark:bg-green-900/20":M.value===a&&v.value!==a,"transform translate-y-0.5":M.value===a&&w.value==="below","transform -translate-y-0.5":M.value===a&&w.value==="above","opacity-40":S.value&&v.value===a,"z-10":v.value===a}]),draggable:"true",onDragstart:u=>ye(a,u),onDragover:e[2]||(e[2]=u=>he(u)),onDrop:u=>Ce(a,u),onDragend:F,onDragenter:u=>ke(a,u),onDragleave:we},[t("td",Ze,[t("div",et,[(n(),i("svg",{class:U(["w-5 h-5 transition-transform duration-200",{"scale-110 text-blue-500":v.value===a}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e[31]||(e[31]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 8h16M4 16h16"},null,-1)]),2))])]),t("td",tt,[t("span",{class:U(["transition-all duration-200",{"font-semibold text-blue-600 dark:text-blue-400":v.value===a}])},m(l.name),3)]),t("td",st,[t("div",lt,[t("button",{type:"button",class:"px-3 py-1 bg-btn-default text-white rounded hover:bg-btn-default-hover text-sm transition-all duration-150",onClick:u=>Te(l.name),disabled:S.value}," Rename ",8,ot),t("button",{type:"button",class:"px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700 text-sm transition-all duration-150",onClick:u=>Ae(l.name),disabled:S.value}," Delete ",8,rt)])])],42,Xe),M.value===a&&w.value==="below"?(n(),i("tr",at,e[32]||(e[32]=[t("td",{colspan:"3",class:"p-0"},[t("div",{class:"h-1 bg-blue-500 rounded-full mx-4 shadow-lg animate-pulse"})],-1)]))):f("",!0)],64))),128))])])])]),_:1}),O(J,{title:"Models by Group",icon:"cubes","default-open":!0,class:"mt-6",size:"m"},{default:q(()=>[_.value.length?(n(),i("div",nt,[(n(!0),i(b,null,T(_.value,l=>(n(),Ue(J,{key:l.name,title:`${l.name} (${l.models.length})`,icon:"folder","default-open":!1,size:"xs"},{default:q(()=>[t("div",it,[t("table",ut,[e[34]||(e[34]=t("thead",{class:"bg-background-mute"},[t("tr",null,[t("th",{class:"px-4 py-3 text-left text-xs font-medium text-text-light uppercase tracking-wider"}," Name "),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-text-light uppercase tracking-wider"}," Type "),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-text-light uppercase tracking-wider"}," URL "),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-text-light uppercase tracking-wider"}," Tags "),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-text-light uppercase tracking-wider"}," Size "),t("th",{class:"px-4 py-3 text-left text-xs font-medium text-text-light uppercase tracking-wider"}," Actions ")])],-1)),t("tbody",dt,[(n(!0),i(b,null,T(l.models,a=>(n(),i("tr",{key:a.dest||a.git,class:"hover:bg-background-mute"},[t("td",pt,[t("span",{class:U({"text-red-500 font-bold":de(a)})},m(ue(a)),3)]),t("td",ct,m(a.type),1),t("td",mt,[a.src?(n(),i("a",{key:0,href:a.src,target:"_blank",rel:"noopener noreferrer",class:"text-blue-400 hover:text-blue-300",title:a.src},[O(o,{icon:"external-link-alt",class:"w-4 h-4"})],8,vt)):(n(),i("span",gt,"-"))]),t("td",ft,[t("div",xt,[(n(!0),i(b,null,T(Q(a),u=>(n(),i("span",{key:u,class:"inline-flex items-center px-2 py-1 rounded text-xs bg-blue-700 text-white"},m(u),1))),128))])]),t("td",bt,m(a.size?(a.size/1024/1024).toFixed(2)+" MB":"-"),1),t("td",yt,[t("div",ht,[t("button",{type:"button",class:"px-3 py-1 bg-btn-default text-white rounded hover:bg-btn-default-hover text-sm",onClick:u=>De(a)}," Edit ",8,kt),t("button",{type:"button",class:"px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700 text-sm",onClick:u=>ze(a)}," Delete ",8,wt)])])]))),128))])])])]),_:2},1032,["title"]))),128))])):(n(),i("div",Ct,e[35]||(e[35]=[t("svg",{class:"w-16 h-16 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})],-1),t("p",{class:"text-lg"},"No model groups.",-1)])))]),_:1})],64)),E.value?(n(),i("div",Mt,[t("div",_t,[t("div",{class:"fixed inset-0 transition-opacity",onClick:e[3]||(e[3]=l=>E.value=!1)},e[36]||(e[36]=[t("div",{class:"absolute inset-0 bg-black opacity-50"},null,-1)])),e[39]||(e[39]=t("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen"},null,-1)),e[40]||(e[40]=y("​ ")),t("div",Tt,[t("div",At,[t("h3",jt,m(ne.value),1),t("form",{onSubmit:K(Z,["prevent"])},[t("div",Dt,[e[37]||(e[37]=t("label",{for:"group-name",class:"form-label"},"Group Name",-1)),x(t("input",{id:"group-name","onUpdate:modelValue":e[4]||(e[4]=l=>G.name=l),type:"text",class:"form-input w-full",required:""},null,512),[[k,G.name]])])],32)]),t("div",zt,[t("button",{type:"button",class:"btn btn-primary ml-2",onClick:Z,disabled:I.value},[I.value?(n(),i("span",Gt,e[38]||(e[38]=[t("svg",{class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),y(" Saving... ")]))):(n(),i("span",Bt,m(V.value?"Rename":"Add"),1))],8,Et),t("button",{type:"button",class:"btn btn-default",onClick:e[5]||(e[5]=l=>E.value=!1)}," Cancel ")])])])])):f("",!0),B.value?(n(),i("div",Rt,[t("div",Ut,[t("div",{class:"fixed inset-0 transition-opacity",onClick:e[6]||(e[6]=l=>B.value=!1)},e[41]||(e[41]=[t("div",{class:"absolute inset-0 bg-black opacity-50"},null,-1)])),e[62]||(e[62]=t("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen"},null,-1)),e[63]||(e[63]=y("​ ")),t("div",Lt,[t("div",St,[t("h3",Vt,m(ie.value),1),t("form",{onSubmit:K(te,["prevent"]),class:"space-y-4"},[t("div",null,[e[43]||(e[43]=t("label",{class:"form-label"},[y("Group Name "),t("span",{class:"text-red-500"},"*")],-1)),x(t("select",{"onUpdate:modelValue":e[7]||(e[7]=l=>r.group=l),class:"form-input",required:""},[e[42]||(e[42]=t("option",{value:"",disabled:""},"Select a group",-1)),(n(!0),i(b,null,T(_.value,l=>(n(),i("option",{key:l.name,value:l.name},m(l.name),9,$t))),128))],512),[[Le,r.group]])]),t("div",null,[e[46]||(e[46]=t("label",{class:"form-label"},"Source Type",-1)),t("div",Nt,[t("label",It,[x(t("input",{"onUpdate:modelValue":e[8]||(e[8]=l=>r.sourceType=l),type:"radio",value:"url",class:"form-radio"},null,512),[[le,r.sourceType]]),e[44]||(e[44]=t("span",{class:"ml-2 text-text-light"},"URL Download",-1))]),t("label",Ht,[x(t("input",{"onUpdate:modelValue":e[9]||(e[9]=l=>r.sourceType=l),type:"radio",value:"git",class:"form-radio"},null,512),[[le,r.sourceType]]),e[45]||(e[45]=t("span",{class:"ml-2 text-text-light"},"Git Repository",-1))])])]),r.sourceType==="url"?(n(),i(b,{key:0},[t("div",null,[e[47]||(e[47]=t("label",{class:"form-label"},"URL",-1)),x(t("input",{"onUpdate:modelValue":e[10]||(e[10]=l=>r.url=l),type:"text",class:"form-input",placeholder:"Model URL"},null,512),[[k,r.url]])]),t("div",null,[e[48]||(e[48]=t("label",{class:"form-label"},"Source (Descriptive Page URL)",-1)),x(t("input",{"onUpdate:modelValue":e[11]||(e[11]=l=>r.src=l),type:"text",class:"form-input",placeholder:"URL of the model's descriptive page"},null,512),[[k,r.src]])]),t("div",null,[e[49]||(e[49]=t("label",{class:"form-label"},[y("Destination "),t("span",{class:"text-red-500"},"*")],-1)),x(t("input",{"onUpdate:modelValue":e[12]||(e[12]=l=>r.dest=l),type:"text",class:"form-input",placeholder:"Destination path",required:""},null,512),[[k,r.dest]])])],64)):f("",!0),r.sourceType==="git"?(n(),i("div",Ft,[e[50]||(e[50]=t("label",{class:"form-label"},"Git Repository URL",-1)),x(t("input",{"onUpdate:modelValue":e[13]||(e[13]=l=>r.git=l),type:"text",class:"form-input",placeholder:"Git repository URL",required:""},null,512),[[k,r.git]])])):f("",!0),t("div",Ot,[e[54]||(e[54]=t("label",{class:"form-label"},"Type",-1)),t("div",qt,[x(t("input",{"onUpdate:modelValue":e[14]||(e[14]=l=>r.type=l),type:"text",class:"form-input pr-10",placeholder:"Model type",onFocus:fe,onBlur:xe,onInput:be},null,544),[[k,r.type]]),t("button",{type:"button",class:"absolute inset-y-0 right-0 flex items-center px-3 text-text-light-muted hover:text-text-light transition-colors",onClick:e[15]||(e[15]=l=>h.value=!h.value)},e[51]||(e[51]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})],-1)])),h.value?(n(),i("div",Kt,[$.value.length>0?(n(),i("div",Jt,[e[52]||(e[52]=t("div",{class:"text-xs text-text-light-muted mb-2"}," Existing types: ",-1)),(n(!0),i(b,null,T(re.value,l=>(n(),i("button",{key:l,type:"button",onClick:a=>ve(l),class:"w-full text-left px-3 py-2 text-sm text-text-light hover:bg-background-mute rounded transition-colors type-dropdown-item"},m(l),9,Pt))),128))])):f("",!0),g.value&&!$.value.includes(g.value)?(n(),i("div",Wt,[t("button",{type:"button",onClick:ge,class:"w-full text-left px-3 py-2 text-sm text-blue-400 hover:bg-background-mute rounded transition-colors flex items-center type-dropdown-item"},[e[53]||(e[53]=t("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1)),y(' Add "'+m(g.value)+'" ',1)])])):f("",!0),$.value.length===0?(n(),i("div",Yt," No existing types found ")):f("",!0)])):f("",!0)])]),t("div",null,[e[57]||(e[57]=t("label",{class:"form-label"},"Tags",-1)),t("div",Qt,[X.value.length>0?(n(),i("div",Xt,[e[55]||(e[55]=t("label",{class:"text-xs text-text-light-muted mb-1 block"},"Select from existing tags:",-1)),t("div",Zt,[(n(!0),i(b,null,T(X.value,l=>(n(),i("button",{key:l,type:"button",onClick:a=>ce(l),disabled:r.tags.includes(l),class:U([{"bg-blue-600 text-white":!r.tags.includes(l),"bg-gray-400 text-gray-600 cursor-not-allowed":r.tags.includes(l)},"px-2 py-1 rounded text-xs hover:bg-blue-700 transition-colors"])},m(l),11,es))),128))])])):f("",!0),t("div",ts,[(n(!0),i(b,null,T(r.tags,(l,a)=>(n(),i("div",{key:a,class:"bg-background-mute px-2 py-1 rounded flex items-center"},[t("span",ss,m(l),1),t("button",{type:"button",onClick:u=>me(a),class:"text-text-light-muted hover:text-text-light"},e[56]||(e[56]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,ls)]))),128)),x(t("input",{"onUpdate:modelValue":e[16]||(e[16]=l=>D.value=l),onKeydown:Se(K(pe,["prevent"]),["enter"]),type:"text",class:"bg-transparent border-none focus:outline-none text-text-light flex-1",placeholder:"Add a new tag..."},null,40,os),[[k,D.value]])])])]),t("div",null,[e[58]||(e[58]=t("label",{class:"form-label"},"Comments",-1)),x(t("textarea",{"onUpdate:modelValue":e[17]||(e[17]=l=>r.comments=l),class:"form-input",rows:"3",placeholder:"Additional comments about this model..."},null,512),[[k,r.comments]])]),A.value?(n(),i(b,{key:2},[t("div",null,[e[59]||(e[59]=t("label",{class:"form-label"},"Hash",-1)),x(t("input",{"onUpdate:modelValue":e[18]||(e[18]=l=>r.hash=l),type:"text",class:"form-input",placeholder:"Hash"},null,512),[[k,r.hash]])]),t("div",null,[e[60]||(e[60]=t("label",{class:"form-label"},"Size (bytes)",-1)),x(t("input",{"onUpdate:modelValue":e[19]||(e[19]=l=>r.size=l),type:"number",min:"0",class:"form-input"},null,512),[[k,r.size,void 0,{number:!0}]])])],64)):f("",!0)],32)]),t("div",rs,[t("button",{type:"button",class:"btn btn-primary ml-2",onClick:te,disabled:H.value},[H.value?(n(),i("span",ns,e[61]||(e[61]=[t("svg",{class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),y(" Saving... ")]))):(n(),i("span",is,m(A.value?"Save":"Add"),1))],8,as),t("button",{type:"button",class:"btn btn-default",onClick:e[20]||(e[20]=l=>B.value=!1)}," Cancel ")])])])])):f("",!0)])}}},ms=Ee(us,[["__scopeId","data-v-1c700ab7"]]);export{ms as default};
