import{_ as we,u as ge,r as w,c as N,o as he,b as a,d as t,e as x,f as r,g as i,I as ye,q as v,s as b,t as u,J as W,w as C,v as M,K as _e,z as y,A as d,L as G}from"./index-CcCzNoNR.js";const ke={class:"space-y-6 p-4 bg-background"},Ce={class:"card"},Me={class:"mb-6"},Be={class:"text-lg font-medium text-text-light mb-2 flex items-center"},$e={class:"text-text-muted mb-4 flex items-center"},je={key:0,class:"overflow-x-auto"},Fe={class:"min-w-full divide-y divide-border"},Ne={class:"bg-background-mute"},Pe={class:"px-4 py-3 text-left text-xs font-medium text-text-light uppercase tracking-wider"},Se={class:"px-4 py-3 text-left text-xs font-medium text-text-light uppercase tracking-wider"},We={class:"px-4 py-3 text-left text-xs font-medium text-text-light uppercase tracking-wider"},De={class:"px-4 py-3 text-left text-xs font-medium text-text-light uppercase tracking-wider"},Ve={class:"px-4 py-3 text-left text-xs font-medium text-text-light uppercase tracking-wider"},Ae={class:"px-4 py-3 text-left text-xs font-medium text-text-light uppercase tracking-wider"},Te={class:"px-4 py-3 text-left text-xs font-medium text-text-light uppercase tracking-wider"},Ue={class:"bg-background-soft divide-y divide-border"},Ee={class:"px-4 py-3 text-text-light"},ze={class:"px-4 py-3 text-text-light"},Oe={class:"px-4 py-3 text-text-light"},Re={class:"px-4 py-3 text-text-light"},Ke={class:"px-4 py-3"},Le={class:"flex flex-wrap gap-1"},He={class:"px-4 py-3"},Ie={class:"flex flex-wrap gap-1"},qe={class:"px-4 py-3"},Ge={class:"flex space-x-1"},Je=["onClick"],Qe=["onClick"],Xe={key:1,class:"bg-blue-50 border border-blue-200 text-blue-700 px-4 py-3 rounded flex items-start"},Ye={class:"card"},Ze={class:"flex justify-between items-center mb-4"},et={class:"text-lg font-semibold text-text-light flex items-center"},tt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},st={class:"form-label flex items-center"},ot={class:"form-label flex items-center"},lt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},nt={class:"form-label flex items-center"},rt={class:"form-label flex items-center"},it={class:"form-label flex items-center"},at={class:"form-label flex items-center"},dt={class:"bg-background-soft border border-border rounded-lg p-3 min-h-[60px] mb-2"},ct={key:0,class:"flex flex-wrap gap-2"},ut=["onClick"],mt={key:1,class:"text-text-muted text-sm flex items-center"},ft={class:"relative"},pt={class:"flex items-center"},xt={key:0,class:"absolute z-10 w-full mt-1 bg-background-soft border border-border rounded-lg shadow-lg max-h-60 overflow-y-auto"},vt={key:0,class:"p-2"},bt=["onClick"],wt={key:1,class:"p-4 text-text-muted text-center"},gt={key:0,class:"mt-3 p-3 bg-yellow-50 border border-yellow-200 rounded-lg"},ht={class:"text-yellow-600 mb-2 flex items-center"},yt={class:"flex flex-wrap gap-2"},_t=["onClick"],kt={class:"mt-3 flex"},Ct={class:"flex justify-between items-center mb-4"},Mt={class:"form-label flex items-center mb-0"},Bt={class:"space-y-4"},$t={class:"bg-background-mute px-4 py-3 flex justify-between items-center"},jt={class:"flex items-center flex-1 mr-4"},Ft={class:"flex-1 flex items-center"},Nt=["value","onBlur","onKeyup"],Pt={class:"ml-2 text-sm text-text-muted"},St=["onClick"],Wt={class:"p-4 space-y-4"},Dt={class:"form-label flex items-center"},Vt=["onUpdate:modelValue"],At={class:"flex justify-between items-center mb-2"},Tt={class:"form-label flex items-center mb-0"},Ut=["onClick"],Et={class:"bg-background-soft border border-border rounded-lg p-3 min-h-[60px] mb-2"},zt={key:0,class:"space-y-2"},Ot={class:"flex-1 min-w-0"},Rt={class:"text-sm font-medium text-text-light truncate"},Kt={class:"text-xs text-text-muted"},Lt={class:"inline-flex items-center mr-2"},Ht={key:0,class:"inline-flex items-center"},It=["onClick"],qt={key:1,class:"text-text-muted text-sm flex items-center"},Gt={class:"flex justify-end space-x-3 pt-4"},Jt={type:"submit",class:"btn btn-primary"},Qt={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},Xt={class:"bg-background rounded-lg shadow-xl max-w-4xl w-full max-h-[80vh] overflow-hidden mx-4"},Yt={class:"flex justify-between items-center p-4 border-b border-border"},Zt={class:"text-lg font-semibold text-text-light"},es={class:"border-b border-border bg-background-mute"},ts={class:"flex items-center"},ss={key:0,class:"ml-2 text-sm text-blue-600"},os={key:0,class:"px-4 pb-4"},ls={class:"flex items-center space-x-4"},ns={class:"flex-1"},rs={class:"form-label text-sm flex items-center mb-1"},is={class:"flex flex-col"},as=["disabled"],ds={class:"text-xs text-text-muted text-center"},cs={key:0,class:"mt-3"},us={class:"flex flex-wrap gap-1"},ms=["onClick"],fs={class:"text-md font-medium text-text-light mb-3 flex items-center"},ps={class:"ml-2 text-sm text-text-muted"},xs={class:"grid grid-cols-1 gap-2"},vs=["onClick"],bs=["checked"],ws={class:"flex-1 min-w-0"},gs={class:"text-sm font-medium text-text-light"},hs={class:"text-xs text-text-muted"},ys={class:"inline-flex items-center mr-2"},_s={key:0,class:"inline-flex items-center mr-2"},ks={key:1,class:"inline-flex items-center"},Cs={key:0,class:"text-center py-8"},Ms={class:"flex justify-end space-x-3 p-4 border-t border-border bg-background-mute"},Bs={__name:"BundleManagerComponent",setup($s){const{success:B,error:g,confirm:E}=ge(),P=w([]),D=w([]),F=w({}),$=w(!1),V=w(!1),j=w(""),h=w([]),p=w(""),_=w(!1),n=w({id:"",name:"",description:"",version:"1.0.0",author:"",website:"",workflows:[],hardware_profiles:{}}),z=N(()=>n.value.workflows?n.value.workflows.filter(o=>!D.value.includes(o)):[]),O=N(()=>D.value.filter(o=>!n.value.workflows.includes(o))),A=N(()=>{if(!p.value.trim())return F.value;const o=p.value.split(",").map(s=>s.trim().toLowerCase()).filter(s=>s.length>0);if(o.length===0)return F.value;const e={};for(const[s,l]of Object.entries(F.value)){const c=l.filter(f=>{if(!f.tags||f.tags.length===0)return!1;const m=f.tags.map(k=>k.toLowerCase());return o.some(k=>m.some(q=>q.includes(k)))});c.length>0&&(e[s]=c)}return e}),R=N(()=>{const o={};for(const e of Object.values(F.value))for(const s of e)if(s.tags&&s.tags.length>0)for(const l of s.tags)o[l]=(o[l]||0)+1;return Object.entries(o).sort((e,s)=>s[1]-e[1]).slice(0,8).map(([e])=>e)}),K=N(()=>Object.values(A.value).reduce((o,e)=>o+e.length,0)),S=async()=>{try{const o=await y.get("/bundles/");P.value=o.data||[]}catch(o){console.error("Error loading bundles:",o),g("Failed to load bundles")}},L=async()=>{try{const o=await y.get("/workflows/");D.value=o.data||[]}catch(o){console.error("Error loading workflows:",o),g("Failed to load workflows")}},J=async()=>{var o;try{const e=await y.get("/jsonmodels/");F.value=((o=e.data)==null?void 0:o.groups)||{}}catch(e){console.error("Error loading models:",e),g("Failed to load model groups")}},Q=async()=>{var o,e;try{if(n.value.id){const s={name:n.value.name,description:n.value.description,version:n.value.version,author:n.value.author||null,website:n.value.website||null,workflows:n.value.workflows,hardware_profiles:n.value.hardware_profiles};await y.put(`/bundles/${n.value.id}`,s),B(`Bundle "${n.value.name}" updated successfully`,5e3,!0),await S()}else{const s={name:n.value.name,description:n.value.description,version:n.value.version,author:n.value.author||null,website:n.value.website||null,workflows:n.value.workflows,hardware_profiles:n.value.hardware_profiles};await y.post("/bundles/",s),B(`Bundle "${n.value.name}" created successfully`,5e3,!0),await S(),U()}}catch(s){console.error("Error saving bundle:",s),g("Failed to save bundle: "+(((e=(o=s.response)==null?void 0:o.data)==null?void 0:e.detail)||s.message),8e3,!0)}},X=async o=>{var e,s;try{const l=new FormData;l.append("workflow_file",o),await y.post("/workflows/upload",l,{headers:{"Content-Type":"multipart/form-data"}}),B(`Workflow "${o.name}" uploaded successfully`),await L()}catch(l){console.error("Error uploading workflow:",l),g("Failed to upload workflow: "+(((s=(e=l.response)==null?void 0:e.data)==null?void 0:s.detail)||l.message))}},Y=()=>{U()},Z=async o=>{try{if(await E(`Are you sure you want to remove "${o}" from this bundle?`,"Confirm Removal")){const s=n.value.workflows.indexOf(o);s!==-1&&(n.value.workflows.splice(s,1),B(`Workflow "${o}" removed from bundle`))}}catch(e){g("Failed to remove workflow from bundle: "+e.message)}},ee=async o=>{const e=o.target.files[0];e&&(await X(e),o.target.value="")},te=()=>{document.getElementById("workflow-file").click()},H=o=>o.dest?o.dest.split("/").pop():o.url?o.url.split("/").pop():"Unknown model",se=o=>{if(!o)return"Unknown size";const e=["B","KB","MB","GB","TB"],s=Math.floor(Math.log(o)/Math.log(1024));return`${(o/Math.pow(1024,s)).toFixed(1)} ${e[s]}`},oe=o=>{var e;j.value=o,h.value=[...((e=n.value.hardware_profiles[o])==null?void 0:e.models)||[]],p.value="",_.value=!1,V.value=!0},T=()=>{V.value=!1,j.value="",h.value=[],p.value="",_.value=!1},le=()=>{p.value=""},ne=o=>{const e=p.value.split(",").map(s=>s.trim()).filter(s=>s.length>0);e.includes(o)||(e.push(o),p.value=e.join(", "))},re=o=>{const e=h.value.findIndex(s=>s.url===o.url&&s.dest===o.dest);e!==-1?h.value.splice(e,1):h.value.push({...o})},ie=o=>h.value.some(e=>e.url===o.url&&e.dest===o.dest),ae=()=>{n.value.hardware_profiles[j.value]||(n.value.hardware_profiles[j.value]={description:"",models:[]}),n.value.hardware_profiles[j.value].models=[...h.value],T()},de=(o,e)=>{var s;(s=n.value.hardware_profiles[o])!=null&&s.models&&n.value.hardware_profiles[o].models.splice(e,1)},ce=(o,e)=>{const s=e.trim();if(!s||s===o)return;if(n.value.hardware_profiles[s]){g(`Profile name "${s}" already exists`);return}const l=n.value.hardware_profiles[o];n.value.hardware_profiles[s]=l,delete n.value.hardware_profiles[o],B(`Profile renamed from "${o}" to "${s}"`)},ue=()=>{let o="New Profile",e=1;for(;n.value.hardware_profiles[o];)o=`New Profile ${e}`,e++;n.value.hardware_profiles[o]={description:"",models:[]}},me=o=>{delete n.value.hardware_profiles[o]},fe=async o=>{try{const s=(await y.get(`/bundles/${o}`)).data;n.value={id:s.id,name:s.name,description:s.description,version:s.version||"1.0.0",author:s.author||"",website:s.website||"",workflows:s.workflows||[],hardware_profiles:s.hardware_profiles||{}}}catch(e){console.error("Error loading bundle for editing:",e),g("Failed to load bundle for editing")}},pe=async o=>{var e,s;try{const l=P.value.find(m=>m.id===o),c=l?l.name:o;await E(`Are you sure you want to delete bundle "${c}"?`,"Confirm Deletion")&&(await y.delete(`/bundles/${o}`),B(`Bundle "${c}" deleted successfully`),await S())}catch(l){console.error("Error deleting bundle:",l),g("Failed to delete bundle: "+(((s=(e=l.response)==null?void 0:e.data)==null?void 0:s.detail)||l.message))}},U=()=>{n.value={id:"",name:"",description:"",version:"1.0.0",author:"",website:"",workflows:[],hardware_profiles:{}},I()},xe=async()=>{await Q()},ve=o=>{n.value.workflows.includes(o)||n.value.workflows.push(o),$.value=!1},be=o=>{const e=n.value.workflows.indexOf(o);e!==-1&&n.value.workflows.splice(e,1)},I=()=>{$.value=!1};return he(async()=>{await Promise.all([S(),L(),J()]),document.addEventListener("click",o=>{o.target.closest(".relative")||I()})}),(o,e)=>{const s=ye("FontAwesomeIcon");return d(),a("div",ke,[t("div",Ce,[e[22]||(e[22]=t("h2",{class:"text-xl font-semibold text-text-light mb-4"},"Bundle Manager",-1)),t("div",Me,[t("h4",Be,[r(s,{icon:"box-open",class:"mr-2"}),e[10]||(e[10]=i("Model Bundles "))]),t("p",$e,[r(s,{icon:"info-circle",class:"mr-2"}),e[11]||(e[11]=i("Create predefined bundles of models with associated workflows. "))]),Object.keys(P.value).length>0?(d(),a("div",je,[t("table",Fe,[t("thead",Ne,[t("tr",null,[t("th",Pe,[r(s,{icon:"tag",class:"mr-1"}),e[12]||(e[12]=i("Name "))]),t("th",Se,[r(s,{icon:"code-branch",class:"mr-1"}),e[13]||(e[13]=i("Version "))]),t("th",We,[r(s,{icon:"user",class:"mr-1"}),e[14]||(e[14]=i("Author "))]),t("th",De,[r(s,{icon:"info",class:"mr-1"}),e[15]||(e[15]=i("Description "))]),t("th",Ve,[r(s,{icon:"sitemap",class:"mr-1"}),e[16]||(e[16]=i("Workflows "))]),t("th",Ae,[r(s,{icon:"server",class:"mr-1"}),e[17]||(e[17]=i("Hardware Profiles "))]),t("th",Te,[r(s,{icon:"cogs",class:"mr-1"}),e[18]||(e[18]=i("Actions "))])])]),t("tbody",Ue,[(d(!0),a(v,null,b(P.value,l=>(d(),a("tr",{key:l.id,class:"hover:bg-background-mute"},[t("td",Ee,u(l.name),1),t("td",ze,u(l.version||"1.0.0"),1),t("td",Oe,u(l.author||"N/A"),1),t("td",Re,u(l.description),1),t("td",Ke,[t("div",Le,[(d(!0),a(v,null,b(l.workflows||[],c=>(d(),a("span",{key:c,class:"inline-flex items-center px-2 py-1 rounded text-xs bg-blue-600 text-white"},[r(s,{icon:"file-code",class:"mr-1"}),i(u(c),1)]))),128))])]),t("td",He,[t("div",Ie,[(d(!0),a(v,null,b(l.hardware_profiles||{},(c,f)=>{var m;return d(),a("span",{key:f,class:"inline-flex items-center px-2 py-1 rounded text-xs bg-gray-600 text-white"},[r(s,{icon:"microchip",class:"mr-1"}),i(u(f)+" ("+u(((m=c.models)==null?void 0:m.length)||0)+" models) ",1)])}),128))])]),t("td",qe,[t("div",Ge,[t("button",{class:"px-3 py-1 text-xs bg-btn-default text-white rounded hover:bg-btn-default-hover transition-colors",onClick:c=>fe(l.id)},[r(s,{icon:"edit",class:"mr-1"}),e[19]||(e[19]=i("Edit "))],8,Je),t("button",{class:"px-3 py-1 text-xs bg-red-600 text-white rounded hover:bg-red-700 transition-colors",onClick:c=>pe(l.id)},[r(s,{icon:"trash-alt",class:"mr-1"}),e[20]||(e[20]=i("Delete "))],8,Qe)])])]))),128))])])])):(d(),a("div",Xe,[r(s,{icon:"info-circle",class:"mr-2 mt-0.5"}),e[21]||(e[21]=t("span",null,"No bundles available. Create your first bundle below.",-1))]))])]),t("div",Ye,[t("div",Ze,[t("h3",et,[r(s,{icon:n.value.id?"edit":"plus-circle",class:"mr-2"},null,8,["icon"]),i(" "+u(n.value.id?"Edit Bundle":"Create New Bundle"),1)]),n.value.id?(d(),a("button",{key:0,type:"button",class:"btn btn-outline",onClick:Y},[r(s,{icon:"plus-circle",class:"mr-1"}),e[23]||(e[23]=i("New Bundle "))])):x("",!0)]),t("form",{onSubmit:W(xe,["prevent"]),class:"space-y-6"},[t("div",tt,[t("div",null,[t("label",st,[r(s,{icon:"tag",class:"mr-2"}),e[24]||(e[24]=i("Name "))]),C(t("input",{type:"text",class:"form-input w-full","onUpdate:modelValue":e[0]||(e[0]=l=>n.value.name=l),required:""},null,512),[[M,n.value.name]])]),t("div",null,[t("label",ot,[r(s,{icon:"code-branch",class:"mr-2"}),e[25]||(e[25]=i("Version "))]),C(t("input",{type:"text",class:"form-input w-full","onUpdate:modelValue":e[1]||(e[1]=l=>n.value.version=l),placeholder:"1.0.0",pattern:"^\\d+\\.\\d+\\.\\d+$",title:"Version must be in x.y.z format (e.g., 1.0.0)"},null,512),[[M,n.value.version]])])]),t("div",lt,[t("div",null,[t("label",nt,[r(s,{icon:"user",class:"mr-2"}),e[26]||(e[26]=i("Author "))]),C(t("input",{type:"text",class:"form-input w-full","onUpdate:modelValue":e[2]||(e[2]=l=>n.value.author=l),placeholder:"Bundle author"},null,512),[[M,n.value.author]])]),t("div",null,[t("label",rt,[r(s,{icon:"globe",class:"mr-2"}),e[27]||(e[27]=i("Website "))]),C(t("input",{type:"url",class:"form-input w-full","onUpdate:modelValue":e[3]||(e[3]=l=>n.value.website=l),placeholder:"https://example.com"},null,512),[[M,n.value.website]])])]),t("div",null,[t("label",it,[r(s,{icon:"info-circle",class:"mr-2"}),e[28]||(e[28]=i("Description "))]),C(t("textarea",{class:"form-input w-full","onUpdate:modelValue":e[4]||(e[4]=l=>n.value.description=l),rows:"3"},null,512),[[M,n.value.description]])]),t("div",null,[t("label",at,[r(s,{icon:"sitemap",class:"mr-2"}),e[29]||(e[29]=i("Workflows "))]),t("div",dt,[n.value.workflows.length>0?(d(),a("div",ct,[(d(!0),a(v,null,b(n.value.workflows,l=>(d(),a("span",{key:l,class:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-blue-600 text-white group"},[r(s,{icon:"file-code",class:"mr-1"}),i(u(l)+" ",1),t("button",{type:"button",class:"ml-2 w-4 h-4 flex items-center justify-center rounded-full bg-blue-500 hover:bg-red-500 text-white text-xs transition-colors duration-200 flex-shrink-0",onClick:W(c=>be(l),["stop"]),title:"Remove workflow"},[r(s,{icon:"times"})],8,ut)]))),128))])):(d(),a("div",mt,[r(s,{icon:"info-circle",class:"mr-1"}),e[30]||(e[30]=i("No workflows selected. Choose from the dropdown below. "))]))]),t("div",ft,[t("button",{type:"button",class:"form-input w-full text-left flex items-center justify-between",onClick:e[5]||(e[5]=l=>$.value=!$.value)},[t("span",pt,[r(s,{icon:"plus-circle",class:"mr-2"}),e[31]||(e[31]=i("Add Workflows "))]),r(s,{icon:$.value?"chevron-up":"chevron-down"},null,8,["icon"])]),$.value?(d(),a("div",xt,[O.value.length>0?(d(),a("div",vt,[(d(!0),a(v,null,b(O.value,l=>(d(),a("div",{key:l,class:"flex items-center px-3 py-2 hover:bg-background-mute cursor-pointer rounded",onClick:c=>ve(l)},[r(s,{icon:"file-code",class:"mr-2 text-blue-600"}),t("span",null,u(l),1)],8,bt))),128))])):(d(),a("div",wt,[r(s,{icon:"info-circle",class:"mr-1"}),e[32]||(e[32]=i("All workflows are already selected "))]))])):x("",!0)]),z.value.length>0?(d(),a("div",gt,[t("div",ht,[r(s,{icon:"exclamation-triangle",class:"mr-1"}),e[33]||(e[33]=t("strong",null,"Missing workflows:",-1)),e[34]||(e[34]=t("span",{class:"ml-1 text-sm"},"These workflows are referenced in this bundle but are not available in the system.",-1))]),t("div",yt,[(d(!0),a(v,null,b(z.value,l=>(d(),a("span",{key:l,class:"inline-flex items-center px-2 py-1 rounded text-xs bg-yellow-100 text-yellow-800 group"},[r(s,{icon:"file-code",class:"mr-1"}),i(u(l)+" ",1),t("button",{type:"button",class:"ml-2 w-4 h-4 flex items-center justify-center rounded-full bg-yellow-400 hover:bg-red-500 text-yellow-800 hover:text-white text-xs transition-colors duration-200 flex-shrink-0",onClick:W(c=>Z(l),["stop"]),title:"Remove missing workflow"},[r(s,{icon:"times"})],8,_t)]))),128))])])):x("",!0),t("div",kt,[t("input",{type:"file",class:"form-input flex-1 rounded-r-none",id:"workflow-file",onChange:ee,accept:".json"},null,32),t("button",{class:"btn btn-outline rounded-l-none border-l-0",type:"button",onClick:te},[r(s,{icon:"upload",class:"mr-1"}),e[35]||(e[35]=i("Upload New Workflow "))])])]),t("div",null,[t("div",Ct,[t("label",Mt,[r(s,{icon:"server",class:"mr-2"}),e[36]||(e[36]=i("Hardware Profiles "))]),t("button",{type:"button",class:"btn btn-sm btn-primary",onClick:ue},[r(s,{icon:"plus-circle",class:"mr-1"}),e[37]||(e[37]=i("Add Profile "))])]),t("div",Bt,[(d(!0),a(v,null,b(n.value.hardware_profiles,(l,c)=>{var f;return d(),a("div",{key:c,class:"border border-border rounded-lg overflow-hidden"},[t("div",$t,[t("div",jt,[r(s,{icon:"microchip",class:"mr-2 text-text-light"}),t("div",Ft,[t("input",{type:"text",class:"bg-transparent border-none text-text-light font-medium focus:outline-none focus:bg-background focus:border focus:border-border focus:rounded px-2 py-1 flex-1",value:c,onBlur:m=>ce(c,m.target.value),onKeyup:[e[6]||(e[6]=G(m=>m.target.blur(),["enter"])),G(m=>{m.target.value=c,m.target.blur()},["escape"])],placeholder:"Profile name"},null,40,Nt),t("span",Pt,"("+u(((f=l.models)==null?void 0:f.length)||0)+" models)",1)])]),t("button",{type:"button",class:"btn btn-sm bg-red-600 hover:bg-red-700 text-white",onClick:m=>me(c)},[r(s,{icon:"trash-alt",class:"mr-1"}),e[38]||(e[38]=i("Remove "))],8,St)]),t("div",Wt,[t("div",null,[t("label",Dt,[r(s,{icon:"info",class:"mr-2"}),e[39]||(e[39]=i("Description "))]),C(t("input",{type:"text",class:"form-input w-full","onUpdate:modelValue":m=>l.description=m,placeholder:"Profile description"},null,8,Vt),[[M,l.description]])]),t("div",null,[t("div",At,[t("label",Tt,[r(s,{icon:"cubes",class:"mr-2"}),e[40]||(e[40]=i("Models for this Profile "))]),t("button",{type:"button",class:"btn btn-sm btn-outline",onClick:m=>oe(c)},[r(s,{icon:"plus-circle",class:"mr-1"}),e[41]||(e[41]=i("Add Models "))],8,Ut)]),t("div",Et,[l.models&&l.models.length>0?(d(),a("div",zt,[(d(!0),a(v,null,b(l.models,(m,k)=>(d(),a("div",{key:k,class:"flex items-center justify-between p-2 bg-background rounded border"},[t("div",Ot,[t("div",Rt,u(H(m)),1),t("div",Kt,[t("span",Lt,[r(s,{icon:"tag",class:"mr-1"}),i(u(m.type),1)]),m.tags&&m.tags.length>0?(d(),a("span",Ht,[r(s,{icon:"tags",class:"mr-1"}),i(u(m.tags.join(", ")),1)])):x("",!0)])]),t("button",{type:"button",class:"ml-2 text-red-600 hover:text-red-800",onClick:q=>de(c,k),title:"Remove model"},[r(s,{icon:"trash-alt"})],8,It)]))),128))])):(d(),a("div",qt,[r(s,{icon:"info-circle",class:"mr-1"}),e[42]||(e[42]=i("No models selected for this profile. "))]))])])])])}),128))])]),t("div",Gt,[t("button",{type:"button",class:"btn btn-secondary",onClick:U},[r(s,{icon:"undo",class:"mr-1"}),e[43]||(e[43]=i("Reset Form "))]),t("button",Jt,[r(s,{icon:n.value.id?"save":"plus",class:"mr-1"},null,8,["icon"]),i(" "+u(n.value.id?"Update":"Create")+" Bundle ",1)])])],32)]),V.value?(d(),a("div",Qt,[t("div",Xt,[t("div",Yt,[t("h3",Zt,"Select Models for "+u(j.value),1),t("button",{type:"button",class:"text-text-muted hover:text-text-light",onClick:T},[r(s,{icon:"times",class:"text-xl"})])]),t("div",es,[t("button",{type:"button",class:"w-full px-4 py-3 flex items-center justify-between hover:bg-background transition-colors",onClick:e[7]||(e[7]=l=>_.value=!_.value)},[t("div",ts,[r(s,{icon:"filter",class:"mr-2"}),e[44]||(e[44]=t("span",{class:"font-medium text-text-light"},"Filter Models",-1)),p.value?(d(),a("span",ss,"("+u(K.value)+" models)",1)):x("",!0)]),r(s,{icon:_.value?"chevron-up":"chevron-down",class:"text-text-muted"},null,8,["icon"])]),_.value?(d(),a("div",os,[t("div",ls,[t("div",ns,[t("label",rs,[r(s,{icon:"search",class:"mr-2"}),e[45]||(e[45]=i("Filter by Tags "))]),C(t("input",{type:"text",class:"form-input w-full text-sm","onUpdate:modelValue":e[8]||(e[8]=l=>p.value=l),placeholder:"Enter tags to filter models (e.g., base, fp8, nsfw...)"},null,512),[[M,p.value]]),e[46]||(e[46]=t("p",{class:"text-xs text-text-muted mt-1"}," Separate multiple tags with commas. Models matching any of these tags will be shown. ",-1))]),t("div",is,[t("button",{type:"button",class:"btn btn-sm btn-outline mb-2",onClick:le,disabled:!p.value},[r(s,{icon:"times",class:"mr-1"}),e[47]||(e[47]=i("Clear "))],8,as),t("div",ds,u(K.value)+" models ",1)])]),R.value.length>0?(d(),a("div",cs,[e[48]||(e[48]=t("label",{class:"text-xs text-text-muted mb-2 block"},"Popular tags:",-1)),t("div",us,[(d(!0),a(v,null,b(R.value,l=>(d(),a("button",{key:l,type:"button",class:"px-2 py-1 text-xs rounded bg-gray-200 hover:bg-gray-300 text-gray-700 transition-colors",onClick:c=>ne(l)},u(l),9,ms))),128))])])):x("",!0)])):x("",!0)]),t("div",{class:"p-4 overflow-y-auto",style:_e({"max-height":_.value?"45vh":"55vh"})},[(d(!0),a(v,null,b(A.value,(l,c)=>(d(),a("div",{key:c,class:"mb-6"},[t("h4",fs,[r(s,{icon:"folder",class:"mr-2"}),i(u(c)+" ",1),t("span",ps,"("+u(l.length)+" models)",1)]),t("div",xs,[(d(!0),a(v,null,b(l,(f,m)=>(d(),a("div",{key:m,class:"flex items-center p-3 border border-border rounded hover:bg-background-mute cursor-pointer",onClick:k=>re(f)},[t("input",{type:"checkbox",checked:ie(f),class:"mr-3",onClick:e[9]||(e[9]=W(()=>{},["stop"]))},null,8,bs),t("div",ws,[t("div",gs,u(H(f)),1),t("div",hs,[t("span",ys,[r(s,{icon:"tag",class:"mr-1"}),i(u(f.type),1)]),f.tags&&f.tags.length>0?(d(),a("span",_s,[r(s,{icon:"tags",class:"mr-1"}),i(u(f.tags.join(", ")),1)])):x("",!0),f.size?(d(),a("span",ks,[r(s,{icon:"weight",class:"mr-1"}),i(u(se(f.size)),1)])):x("",!0)])])],8,vs))),128))])]))),128)),Object.keys(A.value).length===0?(d(),a("div",Cs,[r(s,{icon:"search",class:"text-4xl text-text-muted mb-4"}),e[49]||(e[49]=t("h4",{class:"text-lg font-medium text-text-light mb-2"},"No models found",-1)),e[50]||(e[50]=t("p",{class:"text-text-muted"}," No models match the current filter criteria. Try adjusting your tag filters. ",-1))])):x("",!0)],4),t("div",Ms,[t("button",{type:"button",class:"btn btn-secondary",onClick:T}," Cancel "),t("button",{type:"button",class:"btn btn-primary",onClick:ae}," Apply Selection ("+u(h.value.length)+" selected) ",1)])])])):x("",!0)])}}},Fs=we(Bs,[["__scopeId","data-v-2fcc2e9c"]]);export{Fs as default};
